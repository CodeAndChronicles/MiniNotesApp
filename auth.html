<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ Mini Notes - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    
    <!-- Iconify -->
    <script src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ ÙˆØ§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --gold-50: #fffdf4;
            --gold-100: #fff9e6;
            --gold-200: #ffefb3;
            --gold-300: #ffdf80;
            --gold-400: #ffcf4d;
            --gold-500: #fbbf24;
            --gold-600: #f59e0b;
            --gold-700: #d97706;
            --gold-800: #b45309;
            --gold-900: #92400e;
            
            --orange-50: #fff7ed;
            --orange-100: #ffedd5;
            --orange-200: #fed7aa;
            --orange-300: #fdba74;
            --orange-400: #fb923c;
            --orange-500: #f97316;
            --orange-600: #ea580c;
            --orange-700: #c2410c;
            --orange-800: #9a3412;
            --orange-900: #7c2d12;
            
            --yellow-50: #fefce8;
            --yellow-100: #fef9c3;
            --yellow-200: #fef08a;
            --yellow-300: #fde047;
            --yellow-400: #facc15;
            --yellow-500: #eab308;
            --yellow-600: #ca8a04;
            --yellow-700: #a16207;
            --yellow-800: #854d0e;
            --yellow-900: #713f12;
            
            /* Ø£Ù„ÙˆØ§Ù† Ø¥Ø¶Ø§ÙÙŠØ© */
            --rose-500: #f43f5e;
            --rose-600: #e11d48;
            --emerald-500: #10b981;
            --emerald-600: #059669;
            --sky-500: #0ea5e9;
            --sky-600: #0284c7;
            
            /* Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-card: #ffffff;
            --bg-modal: #ffffff;
            
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-tertiary: #94a3b8;
            --text-muted: #cbd5e1;
            
            --border-light: #e2e8f0;
            --border-medium: #cbd5e1;
            --border-dark: #94a3b8;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-gold: 0 10px 25px rgba(251, 191, 36, 0.2);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-2xl: 24px;
            --radius-full: 9999px;
            
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Ø®Ø·ÙˆØ· Ø¹Ø±Ø¨ÙŠØ© */
            --font-cairo: 'Cairo', sans-serif;
            --font-almarai: 'Almarai', sans-serif;
            --font-tajawal: 'Tajawal', sans-serif;
            --font-messiri: 'El Messiri', sans-serif;
            --font-changa: 'Changa', sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            font-family: var(--font-cairo);
            background: linear-gradient(135deg, var(--gold-500) 0%, var(--orange-500) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: background var(--transition-normal);
            line-height: 1.6;
        }
        
        /* ===== Loading Screen ===== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--gold-600) 0%, var(--orange-600) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity var(--transition-normal), visibility var(--transition-normal);
        }
        
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .loading-logo-icon {
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: float 3s ease-in-out infinite;
        }
        
        .loading-logo-icon iconify-icon {
            font-size: 48px;
            color: white;
        }
        
        .loading-logo-text {
            font-size: 2.5rem;
            font-weight: 800;
            color: white;
            text-align: center;
            font-family: var(--font-almarai);
        }
        
        .loading-logo-text span {
            background: linear-gradient(45deg, #ffcf4d, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .loading-progress {
            width: 300px;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }
        
        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-400), var(--orange-400));
            border-radius: var(--radius-full);
            animation: loading 2s ease-in-out infinite;
            width: 40%;
        }
        
        .loading-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            font-weight: 500;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes loading {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(300%); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* ===== Auth Container ===== */
        .auth-container {
            width: 100%;
            max-width: 480px;
            animation: fadeIn 0.8s ease;
        }
        
        .auth-card {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            padding: 3rem;
            box-shadow: var(--shadow-2xl);
            border: 1px solid var(--border-light);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ===== Auth Header ===== */
        .auth-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .auth-logo {
            margin-bottom: 1.5rem;
        }
        
        .auth-logo-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--gold-500), var(--orange-500));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            box-shadow: var(--shadow-gold);
        }
        
        .auth-logo-icon iconify-icon {
            font-size: 40px;
            color: white;
        }
        
        .auth-logo h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-family: var(--font-almarai);
            background: linear-gradient(45deg, var(--gold-600), var(--orange-600));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .auth-logo p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-family: var(--font-tajawal);
        }
        
        /* ===== Tabs ===== */
        .auth-tabs {
            display: flex;
            gap: 0.5rem;
            background: var(--bg-tertiary);
            padding: 0.5rem;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            margin-bottom: 2rem;
        }
        
        .auth-tab {
            flex: 1;
            padding: 1rem;
            border-radius: var(--radius-md);
            background: transparent;
            color: var(--text-secondary);
            font-family: var(--font-tajawal);
            font-weight: 600;
            font-size: 1rem;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .auth-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }
        
        .auth-tab.active {
            background: linear-gradient(135deg, var(--gold-500), var(--orange-500));
            color: white;
            border-color: var(--gold-400);
            box-shadow: var(--shadow-gold);
        }
        
        /* ===== Forms ===== */
        .auth-form {
            display: none;
            animation: fadeIn var(--transition-normal);
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 600;
            font-family: var(--font-tajawal);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-input {
            width: 100%;
            height: 52px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-medium);
            border-radius: var(--radius-lg);
            padding: 0 20px;
            font-family: var(--font-tajawal);
            font-size: 1rem;
            color: var(--text-primary);
            transition: all var(--transition-fast);
            outline: none;
        }
        
        .form-input:focus {
            border-color: var(--gold-500);
            background: var(--bg-card);
            box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.1);
        }
        
        .form-input::placeholder {
            color: var(--text-tertiary);
        }
        
        .form-input.error {
            border-color: var(--rose-500);
        }
        
        .form-input.success {
            border-color: var(--emerald-500);
        }
        
        .password-input {
            position: relative;
        }
        
        .show-password {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            font-size: 20px;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .show-password:hover {
            color: var(--text-primary);
        }
        
        /* ===== Password Strength ===== */
        .password-strength {
            margin-top: 0.5rem;
        }
        
        .strength-bar {
            height: 4px;
            background: var(--border-light);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: 4px;
        }
        
        .strength-fill {
            height: 100%;
            width: 0%;
            transition: all var(--transition-fast);
            border-radius: var(--radius-full);
        }
        
        .strength-text {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            text-align: right;
            font-family: var(--font-tajawal);
        }
        
        /* ===== Error/Success Messages ===== */
        .error-message {
            color: var(--rose-600);
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: var(--font-tajawal);
        }
        
        .success-message {
            color: var(--emerald-600);
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: var(--font-tajawal);
        }
        
        /* ===== Buttons ===== */
        .auth-btn {
            width: 100%;
            padding: 16px 28px;
            border-radius: var(--radius-lg);
            font-family: var(--font-tajawal);
            font-weight: 600;
            font-size: 1rem;
            transition: all var(--transition-bounce);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            outline: none;
            margin-bottom: 1rem;
        }
        
        .auth-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        
        .auth-btn:active {
            transform: translateY(-1px);
        }
        
        .auth-btn-primary {
            background: linear-gradient(135deg, var(--gold-500), var(--orange-500));
            color: white;
        }
        
        .auth-btn-primary:hover {
            background: linear-gradient(135deg, var(--gold-600), var(--orange-600));
            box-shadow: 0 10px 25px rgba(251, 191, 36, 0.3);
        }
        
        .auth-btn-primary:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .auth-btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--border-light);
        }
        
        .auth-btn-secondary:hover {
            background: var(--border-light);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        /* ===== Divider ===== */
        .auth-divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--text-tertiary);
            font-size: 0.9rem;
            font-family: var(--font-tajawal);
        }
        
        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-light);
        }
        
        .auth-divider span {
            padding: 0 16px;
        }
        
        /* ===== Agreement ===== */
        .auth-agreement {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-family: var(--font-tajawal);
        }
        
        .auth-agreement a {
            color: var(--gold-600);
            text-decoration: none;
            font-weight: 600;
        }
        
        .auth-agreement a:hover {
            text-decoration: underline;
        }
        
        /* ===== Footer ===== */
        .auth-footer {
            text-align: center;
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-light);
            color: var(--text-tertiary);
            font-size: 0.9rem;
            font-family: var(--font-tajawal);
        }
        
        /* ===== Toast Notifications ===== */
        .toast-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9998;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 90vw;
            width: auto;
        }
        
        .toast {
            min-width: 280px;
            max-width: 350px;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-xl);
            border-top: 3px solid var(--gold-500);
            animation: slideInUp var(--transition-normal);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-light);
            transform-origin: center;
        }
        
        .toast.success {
            border-top-color: var(--emerald-500);
        }
        
        .toast.error {
            border-top-color: var(--rose-500);
        }
        
        .toast.warning {
            border-top-color: var(--gold-500);
        }
        
        .toast-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .toast.success .toast-icon {
            background: var(--emerald-50);
            color: var(--emerald-600);
        }
        
        .toast.error .toast-icon {
            background: var(--rose-50);
            color: var(--rose-600);
        }
        
        .toast.warning .toast-icon {
            background: var(--gold-50);
            color: var(--gold-600);
        }
        
        .toast-content {
            flex: 1;
        }
        
        .toast-title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 2px;
            color: var(--text-primary);
        }
        
        .toast-message {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }
        
        .toast-close {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-tertiary);
            cursor: pointer;
            transition: all var(--transition-fast);
            flex-shrink: 0;
        }
        
        .toast-close:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        /* ===== Responsive Design ===== */
        @media (max-width: 768px) {
            .auth-card {
                padding: 2rem;
            }
            
            .auth-logo h1 {
                font-size: 2rem;
            }
            
            .auth-logo p {
                font-size: 1rem;
            }
            
            .auth-tabs {
                padding: 0.375rem;
            }
            
            .auth-tab {
                padding: 0.75rem 0.5rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 1rem;
            }
            
            .auth-card {
                padding: 1.5rem;
                border-radius: var(--radius-lg);
            }
            
            .auth-logo h1 {
                font-size: 1.75rem;
            }
            
            .auth-logo-icon {
                width: 60px;
                height: 60px;
                margin-bottom: 1rem;
            }
            
            .auth-logo-icon iconify-icon {
                font-size: 30px;
            }
            
            .auth-tabs {
                flex-direction: column;
            }
            
            .auth-tab {
                width: 100%;
            }
            
            .form-input {
                height: 48px;
                font-size: 0.95rem;
            }
            
            .auth-btn {
                padding: 14px 20px;
                font-size: 0.95rem;
            }
            
            .toast {
                min-width: 250px;
                max-width: 300px;
                padding: 10px 14px;
            }
        }
        
        @media (max-width: 360px) {
            .auth-card {
                padding: 1.25rem;
            }
            
            .auth-logo h1 {
                font-size: 1.5rem;
            }
            
            .auth-logo p {
                font-size: 0.9rem;
            }
            
            .auth-tab {
                padding: 0.5rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">
            <div class="loading-logo-icon">
                <iconify-icon icon="mdi:notebook-edit-outline"></iconify-icon>
            </div>
            <div class="loading-logo-text">Mini <span>Notes</span></div>
        </div>
        <div class="loading-progress">
            <div class="loading-progress-bar"></div>
        </div>
        <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©...</div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Auth Container -->
    <div class="auth-container" id="authContainer" style="display: none;">
        <div class="auth-card">
            <!-- Header -->
            <div class="auth-header">
                <div class="auth-logo">
                    <div class="auth-logo-icon">
                        <iconify-icon icon="mdi:notebook-edit-outline"></iconify-icon>
                    </div>
                    <h1>Mini Notes</h1>
                    <p>Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø§Ù„Ø¢Ù…Ù†Ø© ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†</p>
                </div>
            </div>

            <!-- Tabs -->
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">
                    <iconify-icon icon="mdi:login"></iconify-icon>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                <button class="auth-tab" data-tab="signup">
                    <iconify-icon icon="mdi:account-plus"></iconify-icon>
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                </button>
            </div>

            <!-- Login Form -->
            <div class="auth-form active" id="login-form">
                <div class="form-group">
                    <label for="login-email">
                        <iconify-icon icon="mdi:email-outline"></iconify-icon>
                        Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                    </label>
                    <input type="email" id="login-email" class="form-input" placeholder="example@gmail.com" required>
                    <div id="login-email-error" class="error-message" style="display: none;"></div>
                </div>
                
                <div class="form-group">
                    <label for="login-password">
                        <iconify-icon icon="mdi:lock-outline"></iconify-icon>
                        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <div class="password-input">
                        <input type="password" id="login-password" class="form-input" placeholder="********" required>
                        <button type="button" class="show-password">
                            <iconify-icon icon="mdi:eye-outline"></iconify-icon>
                        </button>
                    </div>
                    <div id="login-password-error" class="error-message" style="display: none;"></div>
                </div>
                
                <button class="auth-btn auth-btn-primary" id="login-btn">
                    <iconify-icon icon="mdi:login"></iconify-icon>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                
                <div class="auth-divider">
                    <span>Ø£Ùˆ</span>
                </div>
                
                <button class="auth-btn auth-btn-secondary" id="forgot-password-btn">
                    <iconify-icon icon="mdi:key-outline"></iconify-icon>
                    Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ
                </button>
            </div>

            <!-- Signup Form -->
            <div class="auth-form" id="signup-form">
                <div class="form-group">
                    <label for="signup-name">
                        <iconify-icon icon="mdi:account-outline"></iconify-icon>
                        Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    </label>
                    <input type="text" id="signup-name" class="form-input" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" required>
                    <div id="signup-name-error" class="error-message" style="display: none;"></div>
                </div>
                
                <div class="form-group">
                    <label for="signup-email">
                        <iconify-icon icon="mdi:email-outline"></iconify-icon>
                        Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                    </label>
                    <input type="email" id="signup-email" class="form-input" placeholder="example@gmail.com" required>
                    <div id="signup-email-error" class="error-message" style="display: none;"></div>
                    <div id="signup-email-success" class="success-message" style="display: none;">
                        <iconify-icon icon="mdi:check-circle-outline"></iconify-icon>
                        Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">
                        <iconify-icon icon="mdi:lock-outline"></iconify-icon>
                        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (8-40 Ø­Ø±Ù)
                    </label>
                    <div class="password-input">
                        <input type="password" id="signup-password" class="form-input" placeholder="********" required>
                        <button type="button" class="show-password">
                            <iconify-icon icon="mdi:eye-outline"></iconify-icon>
                        </button>
                    </div>
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div id="password-strength-fill" class="strength-fill"></div>
                        </div>
                        <div id="password-strength-text" class="strength-text">Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Ø¶Ø¹ÙŠÙØ©</div>
                    </div>
                    <div id="signup-password-error" class="error-message" style="display: none;"></div>
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm-password">
                        <iconify-icon icon="mdi:lock-check-outline"></iconify-icon>
                        ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <div class="password-input">
                        <input type="password" id="signup-confirm-password" class="form-input" placeholder="********" required>
                        <button type="button" class="show-password">
                            <iconify-icon icon="mdi:eye-outline"></iconify-icon>
                        </button>
                    </div>
                    <div id="signup-confirm-error" class="error-message" style="display: none;"></div>
                </div>
                
                <button class="auth-btn auth-btn-primary" id="signup-btn">
                    <iconify-icon icon="mdi:account-plus"></iconify-icon>
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                </button>
                
                <div class="auth-agreement">
                    <p>Ø¨Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</a> Ùˆ <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></p>
                </div>
            </div>

            <!-- Footer -->
            <div class="auth-footer">
                <p>Â© 2024 Mini Notes. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
            </div>
        </div>
    </div>

    <script type="module">
        // ===== Firebase Configuration =====
        const firebaseConfig = {
            apiKey: "AIzaSyCOqwdTEjaPp_iTMia1t1IjS8fxSUQtnTY",
            authDomain: "mininotesapp-8b171.firebaseapp.com",
            projectId: "mininotesapp-8b171",
            storageBucket: "mininotesapp-8b171.appspot.com",
            messagingSenderId: "135430086212",
            appId: "1:135430086212:web:818a9ab60f393d0ae5e611",
            measurementId: "G-4RXQ2H257S"
        };

        // ===== Import Firebase =====
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            onAuthStateChanged,
            updateProfile,
            sendPasswordResetEmail
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        import { 
            getFirestore, 
            setDoc, 
            doc 
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

        // ===== Initialize Firebase =====
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // ===== ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù blocked_domains.json =====
        let blockedDomains = [];
        let allowedDomains = ['gmail.com', 'gmail.sa']; // Ø¯Ø¹Ù… Ù…Ø¨Ø§Ø´Ø±

        async function loadBlockedDomains() {
            try {
                const response = await fetch('blocked_domains.json');
                if (response.ok) {
                    const data = await response.json();
                    allowedDomains = data.allowed_domains || ['gmail.com', 'gmail.sa'];
                    blockedDomains = data.blocked_domains || [];
                    console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ø§Øª:', allowedDomains.length, 'Ù…Ø³Ù…ÙˆØ­ØŒ', blockedDomains.length, 'Ù…Ù…Ù†ÙˆØ¹');
                }
            } catch (error) {
                console.log('Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø¯ÙˆÙ…ÙŠÙ†Ø§Øª');
            }
        }

        // ===== Utility Functions =====
        function showToast(message, type = 'info', title = null) {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icons = {
                success: 'mdi:check-circle-outline',
                error: 'mdi:alert-circle-outline',
                info: 'mdi:information-outline',
                warning: 'mdi:alert-outline'
            };
            
            const titles = {
                success: 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­',
                error: 'Ø®Ø·Ø£',
                info: 'Ù…Ø¹Ù„ÙˆÙ…Ø©',
                warning: 'ØªØ­Ø°ÙŠØ±'
            };
            
            toast.innerHTML = `
                <div class="toast-icon">
                    <iconify-icon icon="${icons[type]}"></iconify-icon>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${title || titles[type]}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <div class="toast-close">
                    <iconify-icon icon="mdi:close"></iconify-icon>
                </div>
            `;
            
            const closeBtn = toast.querySelector('.toast-close');
            closeBtn.addEventListener('click', () => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, 300);
            });
            
            toastContainer.appendChild(toast);
            
            setTimeout(() => {
                if (toast.parentElement) {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        if (toast.parentElement) {
                            toast.remove();
                        }
                    }, 300);
                }
            }, 5000);
        }
        
        function toggleLoading(show) {
            const authContainer = document.getElementById('authContainer');
            const loadingScreen = document.getElementById('loadingScreen');
            
            if (show) {
                authContainer.style.display = 'none';
                loadingScreen.style.display = 'flex';
            } else {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    authContainer.style.display = 'block';
                }, 500);
            }
        }
        
        function toggleButtonLoading(button, loading) {
            if (loading) {
                button.disabled = true;
                button.innerHTML = `
                    <iconify-icon icon="mdi:loading" class="ri-spin"></iconify-icon>
                    Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...
                `;
            } else {
                button.disabled = false;
                const originalText = button.id === 'login-btn' ? 
                    '<iconify-icon icon="mdi:login"></iconify-icon> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„' : 
                    '<iconify-icon icon="mdi:account-plus"></iconify-icon> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨';
                button.innerHTML = originalText;
            }
        }

        // ===== Validation Functions =====
        function validateEmail(email) {
            if (!email) return { valid: false, error: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø·Ù„ÙˆØ¨" };
            
            if (!email.includes('@')) {
                return { valid: false, error: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ @" };
            }
            
            const [localPart, domain] = email.split('@');
            
            if (localPart.length < 8) {
                return { valid: false, error: "ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ù‚Ø¨Ù„ @ Ø¹Ù„Ù‰ 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„" };
            }
            
            const domainLower = domain.toLowerCase();
            
            const isAllowed = allowedDomains.some(allowed => 
                domainLower.endsWith(allowed.toLowerCase())
            );
            
            if (!isAllowed) {
                const isBlocked = blockedDomains.some(blocked => 
                    domainLower.endsWith(blocked.toLowerCase())
                );
                
                if (isBlocked) {
                    return { valid: false, error: "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" };
                }
                
                return { valid: false, error: "ÙŠØ³Ù…Ø­ ÙÙ‚Ø· Ø¨Ù€ gmail.com Ùˆ gmail.sa" };
            }
            
            return { valid: true, error: null };
        }
        
        function validatePassword(password) {
            if (!password) return { valid: false, error: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø©", strength: 0 };
            
            if (password.length < 8) {
                return { valid: false, error: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„", strength: 0 };
            }
            
            if (password.length > 40) {
                return { valid: false, error: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ØªØªØ¬Ø§ÙˆØ² 40 Ø­Ø±ÙØ§Ù‹", strength: 0 };
            }
            
            let strength = 0;
            if (password.length >= 12) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;
            
            return { 
                valid: true, 
                error: null,
                strength: strength
            };
        }
        
        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = message;
                element.style.display = 'flex';
            }
        }
        
        function hideError(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.style.display = 'none';
            }
        }
        
        function updatePasswordStrength(password) {
            const validation = validatePassword(password);
            const strengthFill = document.getElementById('password-strength-fill');
            const strengthText = document.getElementById('password-strength-text');
            
            if (!strengthFill || !strengthText) return;
            
            const strength = validation.strength;
            let width = 0;
            let color = '#EF4444';
            let text = 'Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹';
            
            switch(strength) {
                case 1:
                    width = 20;
                    color = '#EF4444';
                    text = 'Ø¶Ø¹ÙŠÙØ©';
                    break;
                case 2:
                    width = 40;
                    color = '#F59E0B';
                    text = 'Ù…ØªÙˆØ³Ø·Ø©';
                    break;
                case 3:
                    width = 60;
                    color = '#3B82F6';
                    text = 'Ø¬ÙŠØ¯Ø©';
                    break;
                case 4:
                    width = 80;
                    color = '#10B981';
                    text = 'Ù‚ÙˆÙŠØ©';
                    break;
                case 5:
                    width = 100;
                    color = '#059669';
                    text = 'Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹';
                    break;
            }
            
            strengthFill.style.width = `${width}%`;
            strengthFill.style.backgroundColor = color;
            strengthText.textContent = `Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${text}`;
            strengthText.style.color = color;
        }

        // ===== Check Auth State =====
        onAuthStateChanged(auth, (user) => {
            if (user) {
                window.location.href = 'index.html';
            }
        });

        // ===== DOM Ready =====
        document.addEventListener('DOMContentLoaded', async function() {
            await loadBlockedDomains();
            
            // Tab switching
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}-form`).classList.add('active');
                    
                    document.querySelectorAll('.error-message, .success-message').forEach(el => {
                        el.style.display = 'none';
                    });
                });
            });
            
            // Show/hide password
            document.querySelectorAll('.show-password').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const input = e.target.closest('.password-input').querySelector('input');
                    const icon = e.target.tagName === 'ICONIFY-ICON' ? e.target : e.target.querySelector('iconify-icon');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.setAttribute('icon', 'mdi:eye-off-outline');
                    } else {
                        input.type = 'password';
                        icon.setAttribute('icon', 'mdi:eye-outline');
                    }
                });
            });
            
            // Real-time validation for signup email
            document.getElementById('signup-email').addEventListener('input', function() {
                const email = this.value.trim();
                const emailError = document.getElementById('signup-email-error');
                const emailSuccess = document.getElementById('signup-email-success');
                
                hideError('signup-email-error');
                if (emailSuccess) emailSuccess.style.display = 'none';
                
                if (email) {
                    const validation = validateEmail(email);
                    if (validation.valid) {
                        this.classList.remove('error');
                        this.classList.add('success');
                        if (emailSuccess) emailSuccess.style.display = 'flex';
                    } else {
                        this.classList.remove('success');
                        this.classList.add('error');
                        showError('signup-email-error', validation.error);
                    }
                } else {
                    this.classList.remove('error', 'success');
                }
            });
            
            // Real-time validation for signup password
            document.getElementById('signup-password').addEventListener('input', function() {
                const password = this.value;
                updatePasswordStrength(password);
                
                const validation = validatePassword(password);
                if (validation.valid) {
                    this.classList.remove('error');
                    hideError('signup-password-error');
                } else {
                    this.classList.add('error');
                    showError('signup-password-error', validation.error);
                }
            });
            
            // Real-time validation for confirm password
            document.getElementById('signup-confirm-password').addEventListener('input', function() {
                const password = document.getElementById('signup-password').value;
                const confirmPassword = this.value;
                
                if (confirmPassword && password !== confirmPassword) {
                    this.classList.add('error');
                    showError('signup-confirm-error', 'ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†');
                } else {
                    this.classList.remove('error');
                    hideError('signup-confirm-error');
                }
            });
            
            // Login
            document.getElementById('login-btn').addEventListener('click', async () => {
                const email = document.getElementById('login-email').value.trim();
                const password = document.getElementById('login-password').value;
                
                const emailValidation = validateEmail(email);
                if (!emailValidation.valid) {
                    showError('login-email-error', emailValidation.error);
                    document.getElementById('login-email').classList.add('error');
                    return;
                } else {
                    hideError('login-email-error');
                    document.getElementById('login-email').classList.remove('error');
                }
                
                if (!password) {
                    showError('login-password-error', 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø©');
                    document.getElementById('login-password').classList.add('error');
                    return;
                } else {
                    hideError('login-password-error');
                    document.getElementById('login-password').classList.remove('error');
                }
                
                const loginBtn = document.getElementById('login-btn');
                toggleButtonLoading(loginBtn, true);
                
                try {
                    await signInWithEmailAndPassword(auth, email, password);
                    showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success', 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­');
                } catch (error) {
                    let message = 'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
                    switch (error.code) {
                        case 'auth/invalid-credential':
                        case 'auth/user-not-found':
                        case 'auth/wrong-password':
                            message = 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
                            break;
                        case 'auth/too-many-requests':
                            message = 'ØªÙ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¯Ø© Ù…Ø±Ø§ØªØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹';
                            break;
                        case 'auth/user-disabled':
                            message = 'ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨';
                            break;
                        case 'auth/invalid-email':
                            message = 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­';
                            break;
                    }
                    showToast(message, 'error', 'Ø®Ø·Ø£');
                    toggleButtonLoading(loginBtn, false);
                }
            });
            
            // Signup
            document.getElementById('signup-btn').addEventListener('click', async () => {
                const name = document.getElementById('signup-name').value.trim();
                const email = document.getElementById('signup-email').value.trim();
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm-password').value;
                
                if (!name) {
                    showError('signup-name-error', 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø·Ù„ÙˆØ¨');
                    document.getElementById('signup-name').classList.add('error');
                    return;
                } else {
                    hideError('signup-name-error');
                    document.getElementById('signup-name').classList.remove('error');
                }
                
                const emailValidation = validateEmail(email);
                if (!emailValidation.valid) {
                    showError('signup-email-error', emailValidation.error);
                    document.getElementById('signup-email').classList.add('error');
                    return;
                } else {
                    hideError('signup-email-error');
                    document.getElementById('signup-email').classList.remove('error');
                }
                
                const passwordValidation = validatePassword(password);
                if (!passwordValidation.valid) {
                    showError('signup-password-error', passwordValidation.error);
                    document.getElementById('signup-password').classList.add('error');
                    return;
                } else {
                    hideError('signup-password-error');
                    document.getElementById('signup-password').classList.remove('error');
                }
                
                if (password !== confirmPassword) {
                    showError('signup-confirm-error', 'ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†');
                    document.getElementById('signup-confirm-password').classList.add('error');
                    return;
                } else {
                    hideError('signup-confirm-error');
                    document.getElementById('signup-confirm-password').classList.remove('error');
                }
                
                const signupBtn = document.getElementById('signup-btn');
                toggleButtonLoading(signupBtn, true);
                
                try {
                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    const user = userCredential.user;
                    
                    await updateProfile(user, { displayName: name });
                    
                    await setDoc(doc(db, "users", user.uid), {
                        name: name,
                        email: email,
                        createdAt: new Date(),
                        theme: 'light',
                        settings: {},
                        notesPassword: '' // ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙØ§Ø±ØºØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
                    });
                    
                    showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!', 'success', 'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡');
                    
                    document.getElementById('signup-name').value = '';
                    document.getElementById('signup-email').value = '';
                    document.getElementById('signup-password').value = '';
                    document.getElementById('signup-confirm-password').value = '';
                    
                    document.querySelector('[data-tab="login"]').click();
                    
                } catch (error) {
                    let message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨';
                    switch (error.code) {
                        case 'auth/email-already-in-use':
                            message = 'Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„';
                            break;
                        case 'auth/invalid-email':
                            message = 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­';
                            break;
                        case 'auth/weak-password':
                            message = 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹';
                            break;
                    }
                    showToast(message, 'error', 'Ø®Ø·Ø£');
                } finally {
                    toggleButtonLoading(signupBtn, false);
                }
            });
            
            // Forgot password
            document.getElementById('forgot-password-btn').addEventListener('click', async () => {
                const email = document.getElementById('login-email').value.trim();
                
                if (!email) {
                    showToast('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'warning', 'ØªØ­Ø°ÙŠØ±');
                    return;
                }
                
                try {
                    await sendPasswordResetEmail(auth, email);
                    showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'success', 'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                } catch (error) {
                    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†', 'error', 'Ø®Ø·Ø£');
                }
            });
            
            // Enter key support
            document.querySelectorAll('.form-input').forEach(input => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        if (document.getElementById('login-form').classList.contains('active')) {
                            document.getElementById('login-btn').click();
                        } else {
                            document.getElementById('signup-btn').click();
                        }
                    }
                });
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            setTimeout(() => {
                toggleLoading(false);
            }, 1000);
        });
    </script>
</body>
</html>